(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,n){var o=e.querySelector(".card").cloneNode(!0),r=o.querySelector(".card__image");return r.src=t.link,r.alt=t.alt,o.querySelector(".card__title").textContent=t.name,o.querySelector(".card__delete-button").addEventListener("click",(function(e){n(e.target.parentElement)})),o.querySelector(".card__like-button").addEventListener("click",(function(e){e.target.classList.toggle("card__like-button_is-active")})),o}function n(e){e.remove()}function o(e){e.querySelector(".popup__close").addEventListener("click",(function(){e.classList.remove("popup_is-opened")}),{once:!0})}function r(e){document.addEventListener("keydown",(function(t){"Escape"==t.key&&e.classList.contains("popup_is-opened")&&e.classList.remove("popup_is-opened")}),{once:!0})}function c(e){e.addEventListener("click",(function(t){t.target.classList.contains("popup_is-opened")&&e.classList.remove("popup_is-opened")}),{once:!0})}function a(e){e.classList.add("popup_is-opened")}var p=document.querySelector(".places__list");[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Фотография с невысоки горами и снегом на них"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Речка в заснеженном лесу"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Фото плотной застройки серыми девятиэтажками"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Фото пустынной степи. На заднем плане горы"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Фото железной дороги в лесу, уходящей за горизонт"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Скалистый обырв у замерзшего озера."}].forEach((function(e){p.append(t(e,n))})),document.addEventListener("click",(function(e){switch(e.target.classList.value){case"profile__edit-button":var i=document.querySelector(".popup_type_edit");a(i),o(i),r(i),c(i),u=i,d=document.querySelector(".profile__title").textContent,m=document.querySelector(".profile__description").textContent,u.querySelector('input[name="name"]').value=d,u.querySelector('input[name="description"]').value=m,function(e){e.addEventListener("submit",(function(t){t.preventDefault();var n=document.forms["edit-profile"].name.value,o=document.forms["edit-profile"].description.value;document.querySelector(".profile__title").textContent=n,document.querySelector(".profile__description").textContent=o,e.classList.remove("popup_is-opened")}))}(i);break;case"profile__add-button":var s=document.querySelector(".popup_type_new-card");a(s),o(s),r(s),c(s),function(e,o){var r={};e.querySelector('input[name="place-name"]').value="",e.querySelector('input[name="link"]').value="",e.addEventListener("submit",(function(c){c.preventDefault();var a=document.forms["new-place"]["place-name"].value,p=document.forms["new-place"].link.value;r.name=a,r.link=p,o.append(t(r,n)),e.classList.remove("popup_is-opened")}))}(s,p);break;case"card__image":var l=document.querySelector(".popup_type_image");a(l),o(l),r(l),c(l),function(e,t,n){e.querySelector(".popup__image").src=t,e.querySelector(".popup__caption").textContent=n}(l,e.target.src,e.target.parentElement.querySelector(".card__title").textContent)}var u,d,m}))})();