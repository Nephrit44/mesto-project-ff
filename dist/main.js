(()=>{"use strict";var e=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Фотография с невысоки горами и снегом на них"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Речка в заснеженном лесу"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Фото плотной застройки серыми девятиэтажками"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Фото пустынной степи. На заднем плане горы"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Фото железной дороги в лесу, уходящей за горизонт"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Скалистый обырв у замерзшего озера."}],t=document.querySelector("#card-template").content,n=document.querySelector(".places__list");function r(){e.forEach((function(e){var r,o,c,s;n.append((r=e,o=a,(s=(c=t.querySelector(".card").cloneNode(!0)).querySelector(".card__image")).src=r.link,s.alt=r.alt,c.querySelector(".card__title").textContent=r.name,c.querySelector(".card__delete-button").addEventListener("click",(function(e){o(e.target.parentElement)})),c.querySelector(".card__like-button").addEventListener("click",(function(e){e.target.classList.toggle("card__like-button_is-active")})),c))}))}function a(e){e.remove()}function o(e,t,n){var r=document.querySelector(".".concat(e));r.classList.add("popup_is-opened"),r.querySelector(".popup__close").addEventListener("click",(function(){c(r)}),{once:!0}),document.addEventListener("keydown",(function(e){"Escape"==e.key&&r.classList.contains("popup_is-opened")&&c(r)}),{once:!0}),r.addEventListener("click",(function(e){e.target.classList.contains("popup_is-opened")&&c(r)}),{once:!0}),"undefined"!==t&&(r.querySelector(".popup__image").src=t,r.querySelector(".popup__caption").textContent=n)}function c(e){e.classList.remove("popup_is-opened")}r(),document.addEventListener("click",(function(e){switch(e.target.classList.value){case"profile__edit-button":o("popup_type_edit");break;case"profile__add-button":o("popup_type_new-card");break;case"card__image":o("popup_type_image",e.target.src,e.target.parentElement.lastChild.textContent)}}));var s=document.forms["edit-profile"];s.addEventListener("submit",(function(e){e.preventDefault();var t=s.elements.name.value,n=s.elements.description.value;document.querySelector(".profile__title").textContent=t,document.querySelector(".profile__description").textContent=n,c(s.parentElement.parentElement)}));var p=document.forms["new-place"];p.addEventListener("submit",(function(t){t.preventDefault();var n={name:p.elements["place-name"].value,link:p.elements.link.value};e.push(n),r(),c(s.parentElement.parentElement)}))})();